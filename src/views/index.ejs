<html>
    <head>
        <title>home</title>
        <link href="styles.css" rel="stylesheet"/>
        <script>
            window.onload = () => {
                document.getElementById("color-switch").addEventListener("click", () => {
                    let body = document.getElementsByTagName("body")[0];
                    const theme = body.getAttribute("data-theme");
                    body.setAttribute("data-theme", (theme === "dark")? "light" : "dark");
                })
            }
        </script>
    </head>
    <body data-theme="dark">
        <h1 id="clip">RoomSwap</h1>
        <a href="<%= authLink %>">Login with Google</a>
        <hr>
        <form method="get">
            <label for="room_no">Room No:</label>
            <input type="text" name="room_no">
            <label for="size">Size:</label>
            <input type="number" name="size" value="2" min="2" max="4">
            <label for="ac">AC:</label>
            <select name="ac">
                <option value="any">any</option>
                <option value="ac">ac</option>
                <option value="non-ac">non-ac</option>
            </select>
            <label for="block">Block:</label>
            <select name="block">
                <option value="any">any</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
                <option value="D">D</option>
            </select>
            <input type="submit" value="Submit">
        </form>
        <%if (rows.length > 0) {%>
            <% for (let i = 0; i < rows.length; i++) { %>
                <div class="card">
                    <p><b>Room No</b>: <%=rows[i].room_no%></p>
                    <p><b>Email</b>: <%=rows[i].email%></p>
                    <p><b>Size</b>: <%= rows[i].size%></p>
                </div>
            <% } %>
        <%} else {%>
            <h3>No rooms available :(</h3>
        <%}%>
        <a id="color-switch">ðŸŒ—</a>
    </body>
</html>